define(["exports","@angular/core","@angular/platform-browser"],function(t,r,e){"use strict";var n=function(){function t(){this.name="Angular",this.people=[],this.people=[{firstName:"James",lastName:"Dean"},{firstName:"John",lastName:"Smith"},{firstName:"Jane",lastName:"Doe"}]}return t.prototype.ngOnInit=function(){console.log("called")},t}();n.decorators=[{type:r.Component,args:[{selector:"app",template:'\n    <h1>Hello {{name}}</h1>\n\n    <table>\n        <thead>\n            <tr>\n               <td sort="firstName">First Name</td>\n               <td sort="lastName">Last Name</td>\n            </tr>\n        </thead>\n        <tbody>\n            <tr *ngFor="let person of people">\n                <td>{{ person.firstName }}</td>\n                <td>{{ person.lastName }}</td>\n            </tr>\n        </tbody>\n    </table>\n  '}]}],n.ctorParameters=function(){return[]};var o=function(){function t(){}return t.refChanged=function(t,r){return t!==r||(null!==t||null!==r)&&(null===t||null===r||(void 0!==t||void 0!==r)&&(void 0===t||void 0===r))},t.isArray=function(t){return t.constructor===[].constructor},t.isObject=function(t){return t.constructor==={}.constructor},t.arrayChanged=function(t,r){if(t.length!=r.length)return!0;for(var e=0;e<t.length;++e)if(t[e]!==r[e])return!0;return!1},t.objChanged=function(t,r){if(Object.keys(t).length!=Object.keys(r).length)return!0;for(var e in t)if(t[e]!==r[e])return!0;return!1},t.referenceChanged=function(r,e){return t.refChanged(r,e)},t.propertyChanged=function(r,e){return t.isArray(r)&&t.isArray(e)?t.arrayChanged(r,e):!(!t.isObject(r)||!t.isObject(e))&&t.objChanged(r,e)},t}(),i=function(){function t(){this.parameters=[]}return t.prototype.configure=function(t){this.options=t},t.prototype.register=function(t){var r=this.parameters.find(function(r){return r.name===t});return r||(r={name:t,asc:void 0,priority:void 0},this.parameters.push(r)),r},t.prototype.clear=function(){this.parameters.forEach(function(t){t.asc=void 0,t.priority=void 0})},t.prototype.update=function(t,r){var e=this.parameters.find(function(r){return r.name===t});void 0===e.asc&&(e.priority=this.parameters.map(function(t){return t.priority||0}).reduce(function(t,r){return r>t?r:t},0)+1),void 0===r&&(e.priority=void 0),e.asc=r},t.prototype.sort=function(t){if(null===this.tmp&&null===t)return t;if(void 0===this.tmp&&void 0===t)return t;if(!o.referenceChanged(this.tmp,t)&&!o.propertyChanged(this.tmp,t))return t;var r=this.parameters.filter(function(t){return void 0!==t.priority}).sort(function(t,r){return t.priority<r.priority?-1:t.priority>r.priority?1:0}),t=t.sort(function(t,e){var n=0;return r.forEach(function(r){if(0===n){var o=r.asc?1:-1,i=t[r.name],s=e[r.name];i<s&&(n=-1*o),i>s&&(n=1*o)}}),n});return this.tmp=t.slice(),this.tmp},t}();i.decorators=[{type:r.Injectable}],i.ctorParameters=function(){return[]};var s=function(){function t(t,r){this.sortService=t,this.elementRef=r,void 0===t.options&&t.configure({noneClass:"glyphicon-sort",ascendingClass:"glyphicon-triangle-top",descendingClass:"glyphicon-triangle-bottom"})}return t.prototype.ngOnInit=function(){var t=this.elementRef.nativeElement.getAttribute("sort");this.sortParameter=this.sortService.register(t)},t.prototype.onSortClick=function(t){var r=this.nextSort(this.sortParameter.asc);t.ctrlKey||this.sortService.clear(),this.sortService.update(this.sortParameter.name,r)},Object.defineProperty(t.prototype,"sortClass",{get:function(){return void 0===this.sortParameter.asc?this.sortService.options.noneClass:!0===this.sortParameter.asc?this.sortService.options.ascendingClass:!1===this.sortParameter.asc?this.sortService.options.descendingClass:void 0},enumerable:!0,configurable:!0}),t.prototype.nextSort=function(t){return void 0===t||!0!==t&&void 0},t}();s.decorators=[{type:r.Component,args:[{selector:"[sort]",template:'\n      <ng-content></ng-content>\n      <span class="glyphicon" [ngClass]="sortClass"></span>\n    ',styles:[]}]}],s.ctorParameters=function(){return[{type:i},{type:r.ElementRef}]},s.propDecorators={onSortClick:[{type:r.HostListener,args:["click",["$event"]]}]};var a=function(){function t(t){this.sortService=t}return t.prototype.transform=function(t){return this.sortService.sort(t)},t}();a.decorators=[{type:r.Pipe,args:[{name:"sort",pure:!1}]}],a.ctorParameters=function(){return[{type:i,decorators:[{type:r.Inject,args:[i]}]}]};var c=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t}();c.decorators=[{type:r.NgModule,args:[{imports:[e.BrowserModule],declarations:[n,s,a],exports:[n,s,a],providers:[i]}]}],c.ctorParameters=function(){return[]},t.AppModule=c,t.SortService=i,t.ɵa=n,t.ɵb=s,t.ɵc=a,Object.defineProperty(t,"__esModule",{value:!0})});